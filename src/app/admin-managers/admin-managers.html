<!-- admin-managers.component.html -->
<app-admin-sidebar></app-admin-sidebar>

<div class="main-content">
  <div class="managers-container">

    <!-- Create Manager Card -->
    <div class="manager-card create-manager-card">
      <div class="card-header">
        <h2 class="card-title">
          <i class="fas fa-user-plus"></i>
          Create New Manager
        </h2>
      </div>

      <form class="manager-form" (ngSubmit)="createManager()">
        <div class="form-grid">
          <div class="form-group">
            <label for="managerName">Manager Name</label>
            <div class="input-wrapper">
              <i class="fas fa-user input-icon"></i>
              <input type="text" id="managerName" [(ngModel)]="newManager.name" name="name"
                placeholder="Enter full name" required>
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email Address</label>
            <div class="input-wrapper">
              <i class="fas fa-envelope input-icon"></i>
              <input type="email" id="email" [(ngModel)]="newManager.email" name="email"
                placeholder="manager@company.com" required>
            </div>
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <div class="input-wrapper">
              <i class="fas fa-lock input-icon"></i>
              <input type="password" id="password" [(ngModel)]="newManager.password" name="password"
                placeholder="••••••••" required>
            </div>
          </div>

          <div class="form-group">
            <label for="company">Company</label>
            <div class="input-wrapper">
              <i class="fas fa-building input-icon"></i>
              <input type="text" id="company" [(ngModel)]="newManager.company" name="company"
                placeholder="Enter company name" required>
            </div>
          </div>

          <div class="form-group">
            <label for="contactNumber">Contact Number</label>
            <div class="input-wrapper">
              <i class="fas fa-phone input-icon"></i>
              <input type="tel" id="contactNumber" [(ngModel)]="newManager.contactNumber" name="contactNumber"
                placeholder="+91 98765 43210" required>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-check"></i>
            Create Manager
          </button>
          <button type="button" class="btn btn-secondary" (click)="resetForm()">
            <i class="fas fa-times"></i>
            Reset
          </button>
        </div>
      </form>
    </div>

    <!-- Managers List Card -->
    <div class="manager-card managers-list-card">
      <div class="card-header">
        <h2 class="card-title">
          <i class="fas fa-list"></i>
          Managers List
        </h2>
        <div class="total-managers-badge">
          <i class="fas fa-users"></i>
          <span>Total: {{ managers.length }}</span>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="managers.length === 0">
        <div class="empty-icon">
          <i class="fas fa-users-slash"></i>
        </div>
        <h3 class="empty-title">No Managers Found</h3>
        <p class="empty-description">Start by creating your first manager using the form above</p>
      </div>

      <!-- Managers Table -->
      <div class="table-container" *ngIf="managers.length > 0">
        <table class="managers-table">
          <thead>
            <tr>
              <th class="th-avatar">Manager</th>
              <th class="th-email">Email</th>
              <th class="th-company">Company</th>
              <th class="th-contact">Contact Number</th>
              <th class="th-actions">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let manager of paginatedManagers" class="table-row">
              <td class="td-manager">
                <div class="manager-cell">
                  <div class="manager-avatar">
                    {{ manager.name.charAt(0).toUpperCase() }}
                  </div>
                  <span class="manager-name">{{ manager.name }}</span>
                </div>
              </td>
              <td class="td-email">
                <div class="email-cell">
                  <i class="fas fa-envelope cell-icon"></i>
                  <span>{{ manager.email }}</span>
                </div>
              </td>
              <td class="td-company">
                <div class="company-cell">
                  <i class="fas fa-building cell-icon"></i>
                  <span>{{ manager.company }}</span>
                </div>
              </td>
              <td class="td-contact">
                <div class="contact-cell">
                  <i class="fas fa-phone cell-icon"></i>
                  <span>{{ manager.contactNumber }}</span>
                </div>
              </td>
              <td class="td-actions">
                <div class="action-buttons">
                  <button class="action-btn edit-btn" (click)="editManager(manager)" type="button" title="Edit Manager">
                    <i class="fas fa-edit"></i>
                  </button>
                  <button class="action-btn delete-btn" (click)="deleteManager(manager.id)" type="button"
                    title="Delete Manager">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="pagination-container" *ngIf="managers.length > pageSize">
        <button class="pagination-btn" (click)="previousPage()" [disabled]="currentPage === 1">
          <i class="fas fa-chevron-left"></i>
          Previous
        </button>

        <div class="page-numbers">
          <button *ngFor="let page of getVisiblePages()" class="page-number-btn" [class.active]="page === currentPage"
            [disabled]="page === '...'" (click)="goToPage(page)" type="button">
            {{ page }}
          </button>
        </div>

        <button class="pagination-btn" (click)="nextPage()" [disabled]="currentPage === totalPages">
          Next
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

  </div>
</div>