<!-- admin-employees.component.html -->
<app-admin-sidebar></app-admin-sidebar>

<div class="main-content">
  <div class="employees-container">

    <!-- Create Employee Card -->
    <div class="employee-card create-employee-card">
      <div class="card-header">
        <h2 class="card-title">
          <i class="fas fa-user-plus"></i>
          Create New Employee
        </h2>
      </div>

      <form class="employee-form" (ngSubmit)="createEmployee()">
        <div class="form-grid">
          <div class="form-group">
            <label for="employeeName">Employee Name</label>
            <div class="input-wrapper">
              <i class="fas fa-user input-icon"></i>
              <input type="text" id="employeeName" [(ngModel)]="newEmployee.name" name="name"
                placeholder="Enter full name" required>
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email Address</label>
            <div class="input-wrapper">
              <i class="fas fa-envelope input-icon"></i>
              <input type="email" id="email" [(ngModel)]="newEmployee.email" name="email"
                placeholder="employee@company.com" required>
            </div>
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <div class="input-wrapper">
              <i class="fas fa-lock input-icon"></i>
              <input type="password" id="password" [(ngModel)]="newEmployee.password" name="password"
                placeholder="••••••••" required>
            </div>
          </div>

          <div class="form-group">
            <label for="contactNumber">Contact Number</label>
            <div class="input-wrapper">
              <i class="fas fa-phone input-icon"></i>
              <input type="tel" id="contactNumber" [(ngModel)]="newEmployee.contactNumber" name="contactNumber"
                placeholder="+91 98765 43210" required>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-check"></i>
            Create Employee
          </button>
          <button type="button" class="btn btn-secondary" (click)="resetForm()">
            <i class="fas fa-times"></i>
            Reset
          </button>
        </div>
      </form>
    </div>

    <!-- Employees List Card -->
    <div class="employee-card employees-list-card">
      <div class="card-header">
        <h2 class="card-title">
          <i class="fas fa-list"></i>
          Employees List
        </h2>
        <div class="total-employees-badge">
          <i class="fas fa-users"></i>
          <span>Total: {{ employees.length }}</span>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="employees.length === 0">
        <div class="empty-icon">
          <i class="fas fa-users-slash"></i>
        </div>
        <h3 class="empty-title">No Employees Found</h3>
        <p class="empty-description">Start by creating your first employee using the form above</p>
      </div>

      <!-- Employees Table -->
      <div class="table-container" *ngIf="employees.length > 0">
        <table class="employees-table">
          <thead>
            <tr>
              <th class="th-avatar">Employee</th>
              <th class="th-email">Email</th>
              <th class="th-contact">Contact Number</th>
              <th class="th-actions">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of paginatedEmployees" class="table-row">
              <td class="td-employee">
                <div class="employee-cell">
                  <div class="employee-avatar">
                    {{ employee.name.charAt(0).toUpperCase() }}
                  </div>
                  <span class="employee-name">{{ employee.name }}</span>
                </div>
              </td>
              <td class="td-email">
                <div class="email-cell">
                  <i class="fas fa-envelope cell-icon"></i>
                  <span>{{ employee.email }}</span>
                </div>
              </td>
              <td class="td-contact">
                <div class="contact-cell">
                  <i class="fas fa-phone cell-icon"></i>
                  <span>{{ employee.contactNumber }}</span>
                </div>
              </td>
              <td class="td-actions">
                <div class="action-buttons">
                  <button class="action-btn edit-btn" (click)="editEmployee(employee)" type="button"
                    title="Edit Employee">
                    <i class="fas fa-edit"></i>
                  </button>
                  <button class="action-btn delete-btn" (click)="deleteEmployee(employee.id)" type="button"
                    title="Delete Employee">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="pagination-container" *ngIf="employees.length > pageSize">
        <button class="pagination-btn" (click)="previousPage()" [disabled]="currentPage === 1">
          <i class="fas fa-chevron-left"></i>
          Previous
        </button>

        <div class="page-numbers">
          <button *ngFor="let page of getVisiblePages()" class="page-number-btn" [class.active]="page === currentPage"
            [disabled]="page === '...'" (click)="goToPage(page)" type="button">
            {{ page }}
          </button>
        </div>

        <button class="pagination-btn" (click)="nextPage()" [disabled]="currentPage === totalPages">
          Next
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

  </div>
</div>